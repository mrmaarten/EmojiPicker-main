!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();function e(){}function t(e){return e()}function n(){return Object.create(null)}function o(e){e.forEach(t)}function i(e){return"function"==typeof e}function r(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function a(t,n,o){t.$$.on_destroy.push(function(t,...n){if(null==t)return e;const o=t.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function s(e,t){e.appendChild(t)}function c(e,t,n){e.insertBefore(t,n||null)}function l(e){e.parentNode&&e.parentNode.removeChild(e)}function d(e){return document.createElement(e)}function u(e){return document.createTextNode(e)}function f(){return u(" ")}function m(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function h(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function p(e,t,n){e.classList[n?"add":"remove"](t)}let g;function b(e){g=e}function y(){if(!g)throw new Error("Function called outside component initialization");return g}function v(e){y().$$.on_mount.push(e)}function k(e){y().$$.on_destroy.push(e)}function w(){const e=y();return(t,n,{cancelable:o=!1}={})=>{const i=e.$$.callbacks[t];if(i){const r=function(e,t,{bubbles:n=!1,cancelable:o=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n,o,t),i}(t,n,{cancelable:o});return i.slice().forEach((t=>{t.call(e,r)})),!r.defaultPrevented}return!0}}const j=[],E=[];let x=[];const $=[],S=Promise.resolve();let T=!1;function _(){T||(T=!0,S.then(z))}function C(e){x.push(e)}const L=new Set;let P=0;function z(){if(0!==P)return;const e=g;do{try{for(;P<j.length;){const e=j[P];P++,b(e),I(e.$$)}}catch(t){throw j.length=0,P=0,t}for(b(null),j.length=0,P=0;E.length;)E.pop()();for(let e=0;e<x.length;e+=1){const t=x[e];L.has(t)||(L.add(t),t())}x.length=0}while(j.length);for(;$.length;)$.pop()();T=!1,L.clear(),b(e)}function I(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(C)}}const M=new Set;let A;function N(e,t){e&&e.i&&(M.delete(e),e.i(t))}function O(e,t,n,o){if(e&&e.o){if(M.has(e))return;M.add(e),A.c.push((()=>{M.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}else o&&o()}function B(e,t){e.d(1),t.delete(e.key)}function D(e){e&&e.c()}function R(e,n,r,a){const{fragment:s,after_update:c}=e.$$;s&&s.m(n,r),a||C((()=>{const n=e.$$.on_mount.map(t).filter(i);e.$$.on_destroy?e.$$.on_destroy.push(...n):o(n),e.$$.on_mount=[]})),c.forEach(C)}function W(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];x.forEach((o=>-1===e.indexOf(o)?t.push(o):n.push(o))),n.forEach((e=>e())),x=t}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function F(t,i,r,a,s,c,d,u=[-1]){const f=g;b(t);const m=t.$$={fragment:null,ctx:[],props:c,update:e,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i.context||(f?f.$$.context:[])),callbacks:n(),dirty:u,skip_bound:!1,root:i.target||f.$$.root};d&&d(m.root);let h=!1;if(m.ctx=r?r(t,i.props||{},((e,n,...o)=>{const i=o.length?o[0]:n;return m.ctx&&s(m.ctx[e],m.ctx[e]=i)&&(!m.skip_bound&&m.bound[e]&&m.bound[e](i),h&&function(e,t){-1===e.$$.dirty[0]&&(j.push(e),_(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(t,e)),n})):[],m.update(),h=!0,o(m.before_update),m.fragment=!!a&&a(m.ctx),i.target){if(i.hydrate){const e=(p=i.target,Array.from(p.childNodes));m.fragment&&m.fragment.l(e),e.forEach(l)}else m.fragment&&m.fragment.c();i.intro&&N(t.$$.fragment),R(t,i.target,i.anchor,i.customElement),z()}var p;b(f)}class U{$destroy(){W(this,1),this.$destroy=e}$on(t,n){if(!i(n))return e;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{const e=o.indexOf(n);-1!==e&&o.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function V(e){if("string"!=typeof e||!e)throw new Error("expected a non-empty string, got: "+e)}function G(e){if("number"!=typeof e)throw new Error("expected a number, got: "+e)}const K=1,q=1,H="emoji",X="keyvalue",Y="favorites",J="tokens",Q="tokens",Z="unicode",ee="count",te="group",ne="order",oe="group-order",ie="eTag",re="url",ae="skinTone",se="readonly",ce="readwrite",le="skinUnicodes",de="skinUnicodes";function ue(e){return function(e,t){const n=new Set,o=[];for(const i of e){const e=t(i);n.has(e)||(n.add(e),o.push(i))}return o}(e,(e=>e.unicode))}const fe={},me={},he={};function pe(e,t,n){n.onerror=()=>t(n.error),n.onblocked=()=>t(new Error("IDB blocked")),n.onsuccess=()=>e(n.result)}async function ge(e){const t=await new Promise(((t,n)=>{const o=indexedDB.open(e,K);fe[e]=o,o.onupgradeneeded=e=>{e.oldVersion<q&&function(e){function t(t,n,o){const i=n?e.createObjectStore(t,{keyPath:n}):e.createObjectStore(t);if(o)for(const[e,[r,a]]of Object.entries(o))i.createIndex(e,r,{multiEntry:a});return i}t(X),t(H,Z,{[Q]:[J,!0],[oe]:[[te,ne]],[le]:[de,!0]}),t(Y,void 0,{[ee]:[""]})}(o.result)},pe(t,n,o)}));return t.onclose=()=>ye(e),t}function be(e,t,n,o){return new Promise(((i,r)=>{const a=e.transaction(t,n,{durability:"relaxed"}),s="string"==typeof t?a.objectStore(t):t.map((e=>a.objectStore(e)));let c;o(s,a,(e=>{c=e})),a.oncomplete=()=>i(c),a.onerror=()=>r(a.error)}))}function ye(e){const t=fe[e],n=t&&t.result;if(n){n.close();const t=he[e];if(t)for(const e of t)e()}delete fe[e],delete me[e],delete he[e]}const ve=new Set([":D","XD",":'D","O:)",":X",":P",";P","XP",":L",":Z",":j","8D","XO","8)",":B",":O",":S",":'o","Dx","X(","D:",":C",">0)",":3","</3","<3","\\M/",":E","8#"]);function ke(e){return e.split(/[\s_]+/).map((e=>!e.match(/\w/)||ve.has(e)?e.toLowerCase():e.replace(/[)(:,]/g,"").replace(/’/g,"'").toLowerCase())).filter(Boolean)}const we=2;function je(e){return e.filter(Boolean).map((e=>e.toLowerCase())).filter((e=>e.length>=we))}function Ee(e,t,n,o){e[t](n).onsuccess=e=>o&&o(e.target.result)}function xe(e,t,n){Ee(e,"get",t,n)}function $e(e,t,n){Ee(e,"getAll",t,n)}function Se(e){e.commit&&e.commit()}function Te(e,t){const n=function(e,t){let n=e[0];for(let o=1;o<e.length;o++){const i=e[o];t(n)>t(i)&&(n=i)}return n}(e,(e=>e.length)),o=[];for(const i of n)e.some((e=>-1===e.findIndex((e=>t(e)===t(i)))))||o.push(i);return o}async function _e(e,t,n,o){try{const i=function(e){return e.map((({annotation:e,emoticon:t,group:n,order:o,shortcodes:i,skins:r,tags:a,emoji:s,version:c})=>{const l=[...new Set(je([...(i||[]).map(ke).flat(),...a.map(ke).flat(),...ke(e),t]))].sort(),d={annotation:e,group:n,order:o,tags:a,tokens:l,unicode:s,version:c};if(t&&(d.emoticon=t),i&&(d.shortcodes=i),r){d.skinTones=[],d.skinUnicodes=[],d.skinVersions=[];for(const{tone:e,emoji:t,version:n}of r)d.skinTones.push(e),d.skinUnicodes.push(t),d.skinVersions.push(n)}return d}))}(t);await be(e,[H,X],ce,(([e,t],r)=>{let a,s,c=0;function l(){2==++c&&function(){if(a===o&&s===n)return;e.clear();for(const t of i)e.put(t);t.put(o,ie),t.put(n,re),Se(r)}()}xe(t,ie,(e=>{a=e,l()})),xe(t,re,(e=>{s=e,l()}))}))}finally{}}async function Ce(e,t){const n=je(ke(t));return n.length?be(e,H,se,((e,t,o)=>{const i=[],r=()=>{const e=Te(i,(e=>e.unicode));o(e.sort(((e,t)=>e.order<t.order?-1:1)))};for(let a=0;a<n.length;a++){const t=n[a],o=a===n.length-1?IDBKeyRange.bound(t,t+"￿",!1,!0):IDBKeyRange.only(t);$e(e.index(Q),o,(e=>{i.push(e),i.length===n.length&&r()}))}})):[]}async function Le(e,t){const n=await Ce(e,t);if(!n.length){const n=e=>(e.shortcodes||[]).includes(t.toLowerCase());return await async function(e,t){return be(e,H,se,((e,n,o)=>{let i;const r=()=>{e.getAll(i&&IDBKeyRange.lowerBound(i,!0),50).onsuccess=e=>{const n=e.target.result;for(const r of n)if(i=r.unicode,t(r))return o(r);if(n.length<50)return o();r()}};r()}))}(e,n)||null}return n.filter((e=>(e.shortcodes||[]).map((e=>e.toLowerCase())).includes(t.toLowerCase())))[0]||null}function Pe(e,t,n){return be(e,t,se,((e,t,o)=>xe(e,n,o)))}const ze="";const Ie=["name","url"];function Me(e){!function(e){const t=e&&Array.isArray(e),n=t&&e.length&&(!e[0]||Ie.some((t=>!(t in e[0]))));if(!t||n)throw new Error("Custom emojis are in the wrong format")}(e);const t=(e,t)=>e.name.toLowerCase()<t.name.toLowerCase()?-1:1,n=e.sort(t),o=function(e,t){const n=new Map;for(const o of e){const e=t(o);for(const t of e){let e=n;for(let n=0;n<t.length;n++){const o=t.charAt(n);let i=e.get(o);i||(i=new Map,e.set(o,i)),e=i}let i=e.get(ze);i||(i=[],e.set(ze,i)),i.push(o)}}return(e,t)=>{let o=n;for(let n=0;n<e.length;n++){const t=e.charAt(n),i=o.get(t);if(!i)return[];o=i}if(t)return o.get(ze)||[];const i=[],r=[o];for(;r.length;){const e=[...r.shift().entries()].sort(((e,t)=>e[0]<t[0]?-1:1));for(const[t,n]of e)t===ze?i.push(...n):r.push(n)}return i}}(e,(e=>[...new Set((e.shortcodes||[]).map((e=>ke(e))).flat())])),i=e=>o(e,!0),r=e=>o(e,!1),a=new Map,s=new Map;for(const c of e){s.set(c.name.toLowerCase(),c);for(const e of c.shortcodes||[])a.set(e.toLowerCase(),c)}return{all:n,search:e=>{const n=ke(e);return Te(n.map(((e,t)=>(t<n.length-1?i:r)(e))),(e=>e.name)).sort(t)},byShortcode:e=>a.get(e.toLowerCase()),byName:e=>s.get(e.toLowerCase())}}const Ae="undefined"!=typeof wrappedJSObject;function Ne(e){if(!e)return e;if(Ae&&(e=structuredClone(e)),delete e.tokens,e.skinTones){const t=e.skinTones.length;e.skins=Array(t);for(let n=0;n<t;n++)e.skins[n]={tone:e.skinTones[n],unicode:e.skinUnicodes[n],version:e.skinVersions[n]};delete e.skinTones,delete e.skinUnicodes,delete e.skinVersions}return e}function Oe(e){e||console.warn("emoji-picker-element is more efficient if the dataSource server exposes an ETag header.")}const Be=["annotation","emoji","group","order","tags","version"];function De(e,t){if(2!==Math.floor(e.status/100))throw new Error("Failed to fetch: "+t+":  "+e.status)}async function Re(e){const t=await fetch(e);De(t,e);const n=t.headers.get("etag");Oe(n);const o=await t.json();return function(e){if(!e||!Array.isArray(e)||!e[0]||"object"!=typeof e[0]||Be.some((t=>!(t in e[0]))))throw new Error("Emoji data is in the wrong format")}(o),[n,o]}async function We(e){const t=function(e){for(var t=e.length,n=new ArrayBuffer(t),o=new Uint8Array(n),i=-1;++i<t;)o[i]=e.charCodeAt(i);return n}(JSON.stringify(e)),n=function(e){for(var t="",n=new Uint8Array(e),o=n.byteLength,i=-1;++i<o;)t+=String.fromCharCode(n[i]);return t}(await crypto.subtle.digest("SHA-1",t));return btoa(n)}async function Fe(e,t){let n,o=await async function(e){const t=await fetch(e,{method:"HEAD"});De(t,e);const n=t.headers.get("etag");return Oe(n),n}(t);if(!o){const e=await Re(t);o=e[0],n=e[1],o||(o=await We(n))}if(await async function(e,t,n){const[o,i]=await Promise.all([ie,re].map((t=>Pe(e,X,t))));return o===n&&i===t}(e,t,o));else{if(!n){n=(await Re(t))[1]}await _e(e,n,t,o)}}class Ue{constructor({dataSource:e="https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json",locale:t="en",customEmoji:n=[]}={}){this.dataSource=e,this.locale=t,this._dbName=`emoji-picker-element-${this.locale}`,this._db=void 0,this._lazyUpdate=void 0,this._custom=Me(n),this._clear=this._clear.bind(this),this._ready=this._init()}async _init(){const e=this._db=await(t=this._dbName,me[t]||(me[t]=ge(t)),me[t]);var t;!function(e,t){let n=he[e];n||(n=he[e]=[]),n.push(t)}(this._dbName,this._clear);const n=this.dataSource,o=await async function(e){return!(await Pe(e,X,re))}(e);o?await async function(e,t){let[n,o]=await Re(t);n||(n=await We(o)),await _e(e,o,t,n)}(e,n):this._lazyUpdate=Fe(e,n)}async ready(){const e=async()=>(this._ready||(this._ready=this._init()),this._ready);await e(),this._db||await e()}async getEmojiByGroup(e){return G(e),await this.ready(),ue(await async function(e,t){return be(e,H,se,((e,n,o)=>{const i=IDBKeyRange.bound([t,0],[t+1,0],!1,!0);$e(e.index(oe),i,o)}))}(this._db,e)).map(Ne)}async getEmojiBySearchQuery(e){V(e),await this.ready();return[...this._custom.search(e),...ue(await Ce(this._db,e)).map(Ne)]}async getEmojiByShortcode(e){V(e),await this.ready();const t=this._custom.byShortcode(e);return t||Ne(await Le(this._db,e))}async getEmojiByUnicodeOrName(e){V(e),await this.ready();const t=this._custom.byName(e);return t||Ne(await async function(e,t){return be(e,H,se,((e,n,o)=>xe(e,t,(n=>{if(n)return o(n);xe(e.index(le),t,(e=>o(e||null)))}))))}(this._db,e))}async getPreferredSkinTone(){return await this.ready(),await Pe(this._db,X,ae)||0}async setPreferredSkinTone(e){return G(e),await this.ready(),t=this._db,n=ae,o=e,be(t,X,ce,((e,t)=>{e.put(o,n),Se(t)}));var t,n,o}async incrementFavoriteEmojiCount(e){return V(e),await this.ready(),t=this._db,n=e,be(t,Y,ce,((e,t)=>xe(e,n,(o=>{e.put((o||0)+1,n),Se(t)}))));var t,n}async getTopFavoriteEmoji(e){return G(e),await this.ready(),(await function(e,t,n){return 0===n?[]:be(e,[Y,H],se,(([e,o],i,r)=>{const a=[];e.index(ee).openCursor(void 0,"prev").onsuccess=e=>{const i=e.target.result;if(!i)return r(a);function s(e){if(a.push(e),a.length===n)return r(a);i.continue()}const c=i.primaryKey,l=t.byName(c);if(l)return s(l);xe(o,c,(e=>{if(e)return s(e);i.continue()}))}}))}(this._db,this._custom,e)).map(Ne)}set customEmoji(e){this._custom=Me(e)}get customEmoji(){return this._custom.all}async _shutdown(){await this.ready();try{await this._lazyUpdate}catch(e){}}_clear(){this._db=this._ready=this._lazyUpdate=void 0}async close(){await this._shutdown(),await ye(this._dbName)}async delete(){var e;await this._shutdown(),await(e=this._dbName,new Promise(((t,n)=>{ye(e),pe(t,n,indexedDB.deleteDatabase(e))})))}}const Ve=[[-1,"✨","custom"],[0,"😀","smileys-emotion"],[1,"👋","people-body"],[3,"🐱","animals-nature"],[4,"🍎","food-drink"],[5,"🏠️","travel-places"],[6,"⚽","activities"],[7,"📝","objects"],[8,"⛔️","symbols"],[9,"🏁","flags"]].map((([e,t,n])=>({id:e,emoji:t,name:n}))),Ge=Ve.slice(1),Ke="function"==typeof requestIdleCallback?requestIdleCallback:setTimeout;function qe(e){return e.unicode.includes("‍")}const He={"🫨":15.1,"🫠":14,"🥲":13.1,"🥻":12.1,"🥰":11,"🤩":5,"👱‍♀️":4,"🤣":3,"👁️‍🗨️":2,"😀":1,"😐️":.7,"😃":.6},Xe=["😊","😒","❤️","👍️","😍","😂","😭","☺️","😔","😩","😏","💕","🙌","😘"],Ye='"Twemoji Mozilla","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji","EmojiOne Color","Android Emoji",sans-serif',Je=(e,t)=>e<t?-1:e>t?1:0,Qe=(e,t)=>{const n=document.createElement("canvas");n.width=n.height=1;const o=n.getContext("2d");return o.textBaseline="top",o.font=`100px ${Ye}`,o.fillStyle=t,o.scale(.01,.01),o.fillText(e,0,0),o.getImageData(0,0,1,1).data},Ze=(e,t)=>{const n=[...e].join(",");return n===[...t].join(",")&&!n.startsWith("0,0,0,")};function et(e){const t=Qe(e,"#000"),n=Qe(e,"#fff");return t&&n&&Ze(t,n)}let tt;const nt=()=>(tt||(tt=new Promise((e=>Ke((()=>e(function(){const e=Object.entries(He);try{for(const[t,n]of e)if(et(t))return n}catch(t){}return e[0][1]}())))))),tt),ot=new Map,it="️",rt="\ud83c",at="‍",st=127995,ct=57339;function lt(e){e.preventDefault(),e.stopPropagation()}function dt(e,t,n){return(t+=e?-1:1)<0?t=n.length-1:t>=n.length&&(t=0),t}function ut(e,t){const n=new Set,o=[];for(const i of e){const e=t(i);n.has(e)||(n.add(e),o.push(i))}return o}const ft=requestAnimationFrame;let mt,ht="function"==typeof ResizeObserver;function pt(e){{const t=document.createRange();return t.selectNode(e.firstChild),t.getBoundingClientRect().width}}function gt(e,t,n){let o=e.get(t);return o||(o=n(),e.set(t,o)),o}function bt(e){return""+e}const yt=new WeakMap,vt=new WeakMap,kt=Symbol("un-keyed"),wt="replaceChildren"in Element.prototype;function jt(e,t){const{targetNode:n}=t;let{targetParentNode:o}=t,i=!1;o?i=function(e,t){let n=e.firstChild,o=0;for(;n;){if(t[o]!==n)return!0;n=n.nextSibling,o++}return o!==t.length}(o,e):(i=!0,t.targetNode=void 0,t.targetParentNode=o=n.parentNode),i&&function(e,t){wt?e.replaceChildren(...t):(e.innerHTML="",e.append(...t))}(o,e)}function Et(e){let t="",n=!1,o=!1,i=-1;const r=new Map,a=[];for(let c=0,l=e.length;c<l;c++){const s=e[c];if(t+=s,c===l-1)break;for(let e=0;e<s.length;e++){switch(s.charAt(e)){case"<":"/"===s.charAt(e+1)?a.pop():(n=!0,a.push(++i));break;case">":n=!1,o=!1;break;case"=":o=!0}}const d=gt(r,a[a.length-1],(()=>[]));let u,f,m;if(o){const t=/(\S+)="?([^"=]*)$/.exec(s);u=t[1],f=t[2],m=/^[^">]*/.exec(e[c+1])[0]}const h={attributeName:u,attributeValuePre:f,attributeValuePost:m,expressionIndex:c};d.push(h),t+=n||o?"":`\x3c!--${d.length-1}--\x3e`}const s=function(e){const t=document.createElement("template");return t.innerHTML=e,t}(t);return{template:s,elementsToBindings:r}}function xt(e,t){let n=e.firstChild;for(;n;){if(n.nodeType===Node.COMMENT_NODE&&n.nodeValue===bt(t))return n;n=n.nextSibling}}function $t(e){const{template:t,elementsToBindings:n}=gt(yt,e,(()=>Et(e))),o=t.cloneNode(!0).content.firstElementChild,i=function(e,t){const n=[],o=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT);let i=e,r=-1;do{const e=t.get(++r);if(e)for(let t=0;t<e.length;t++){const o=e[t],r={binding:o,targetNode:o.attributeName?i:xt(i,t),targetParentNode:void 0,currentExpression:void 0};n.push(r)}}while(i=o.nextNode());return n}(o,n);return function(e){return function(e,t){for(const n of t){const{targetNode:t,currentExpression:o,binding:{expressionIndex:i,attributeName:r,attributeValuePre:a,attributeValuePost:s}}=n,c=e[i];if(o!==c)if(n.currentExpression=c,r)t.setAttribute(r,a+bt(c)+s);else{let e;Array.isArray(c)?jt(c,n):c instanceof Element?(e=c,t.replaceWith(e)):t.nodeType===Node.TEXT_NODE?t.nodeValue=bt(c):(e=document.createTextNode(bt(c)),t.replaceWith(e)),e&&(n.targetNode=e)}}}(e,i),o}}function St(e,t,n,o,i,r,a,s){const{labelWithSkin:c,titleForEmoji:l,unicodeWithSkin:d}=n,{html:u,map:f}=function(e){const t=gt(vt,e,(()=>new Map));let n=kt;return{map:function(e,t,o){return e.map(((e,i)=>{const r=n;n=o(e);try{return t(e,i)}finally{n=r}}))},html:function(e,...o){const i=gt(t,e,(()=>new Map));return gt(i,n,(()=>$t(e)))(o)}}}(t);function m(e,n,o){return f(e,((e,i)=>u`<button role="${n?"option":"menuitem"}" aria-selected="${t.searchMode?i===t.activeSearchItem:""}" aria-label="${c(e,t.currentSkinTone)}" title="${l(e)}" class="emoji ${n&&i===t.activeSearchItem?"active":""}" id="${`${o}-${e.id}`}">${e.unicode?d(e,t.currentSkinTone):u`<img class="custom-emoji" src="${e.url}" alt="" loading="lazy">`}</button>`),(e=>`${o}-${e.id}`))}const h=u`<section data-ref="rootElement" class="picker" aria-label="${t.i18n.regionLabel}" style="${t.pickerStyle}"><div class="pad-top"></div><div class="search-row"><div class="search-wrapper"><input id="search" class="search" type="search" role="combobox" enterkeyhint="search" placeholder="${t.i18n.searchLabel}" autocapitalize="none" autocomplete="off" spellcheck="true" aria-expanded="${!(!t.searchMode||!t.currentEmojis.length)}" aria-controls="search-results" aria-describedby="search-description" aria-autocomplete="list" aria-activedescendant="${t.activeSearchItemId?`emo-${t.activeSearchItemId}`:""}" data-ref="searchElement" data-on-input="onSearchInput" data-on-keydown="onSearchKeydown"><label class="sr-only" for="search">${t.i18n.searchLabel}</label> <span id="search-description" class="sr-only">${t.i18n.searchDescription}</span></div><div class="skintone-button-wrapper ${t.skinTonePickerExpandedAfterAnimation?"expanded":""}"><button id="skintone-button" class="emoji ${t.skinTonePickerExpanded?"hide-focus":""}" aria-label="${t.skinToneButtonLabel}" title="${t.skinToneButtonLabel}" aria-describedby="skintone-description" aria-haspopup="listbox" aria-expanded="${t.skinTonePickerExpanded}" aria-controls="skintone-list" data-on-click="onClickSkinToneButton">${t.skinToneButtonText}</button></div><span id="skintone-description" class="sr-only">${t.i18n.skinToneDescription}</span><div data-ref="skinToneDropdown" id="skintone-list" class="skintone-list hide-focus ${t.skinTonePickerExpanded?"":"hidden no-animate"}" style="transform:translateY(${t.skinTonePickerExpanded?0:"calc(-1 * var(--num-skintones) * var(--total-emoji-size))"})" role="listbox" aria-label="${t.i18n.skinTonesLabel}" aria-activedescendant="skintone-${t.activeSkinTone}" aria-hidden="${!t.skinTonePickerExpanded}" tabIndex="-1" data-on-focusout="onSkinToneOptionsFocusOut" data-on-click="onSkinToneOptionsClick" data-on-keydown="onSkinToneOptionsKeydown" data-on-keyup="onSkinToneOptionsKeyup">${f(t.skinTones,((e,n)=>u`<div id="skintone-${n}" class="emoji ${n===t.activeSkinTone?"active":""}" aria-selected="${n===t.activeSkinTone}" role="option" title="${t.i18n.skinTones[n]}" aria-label="${t.i18n.skinTones[n]}">${e}</div>`),(e=>e))}</div></div><div class="nav" role="tablist" style="grid-template-columns:repeat(${t.groups.length},1fr)" aria-label="${t.i18n.categoriesLabel}" data-on-keydown="onNavKeydown" data-on-click="onNavClick">${f(t.groups,(e=>u`<button role="tab" class="nav-button" aria-controls="tab-${e.id}" aria-label="${t.i18n.categories[e.name]}" aria-selected="${!t.searchMode&&t.currentGroup.id===e.id}" title="${t.i18n.categories[e.name]}" data-group-id="${e.id}"><div class="nav-emoji emoji">${e.emoji}</div></button>`),(e=>e.id))}</div><div class="indicator-wrapper"><div class="indicator" style="transform:translateX(${(t.isRtl?-1:1)*t.currentGroupIndex*100}%)"></div></div><div class="message ${t.message?"":"gone"}" role="alert" aria-live="polite">${t.message}</div><div data-ref="tabpanelElement" class="tabpanel ${!t.databaseLoaded||t.message?"gone":""}" role="${t.searchMode?"region":"tabpanel"}" aria-label="${t.searchMode?t.i18n.searchResultsLabel:t.i18n.categories[t.currentGroup.name]}" id="${t.searchMode?"":`tab-${t.currentGroup.id}`}" tabIndex="0" data-on-click="onEmojiClick"><div data-action="calculateEmojiGridStyle">${f(t.currentEmojisWithCategories,((e,n)=>u`<div><div id="menu-label-${n}" class="category ${1===t.currentEmojisWithCategories.length&&""===t.currentEmojisWithCategories[0].category?"gone":""}" aria-hidden="true">${t.searchMode?t.i18n.searchResultsLabel:e.category?e.category:t.currentEmojisWithCategories.length>1?t.i18n.categories.custom:t.i18n.categories[t.currentGroup.name]}</div><div class="emoji-menu" role="${t.searchMode?"listbox":"menu"}" aria-labelledby="menu-label-${n}" id="${t.searchMode?"search-results":""}">${m(e.emojis,t.searchMode,"emo")}</div></div>`),(e=>e.category))}</div></div><div class="favorites emoji-menu ${t.message?"gone":""}" role="menu" aria-label="${t.i18n.favoritesLabel}" style="padding-inline-end:${`${t.scrollbarWidth}px`}" data-on-click="onEmojiClick">${m(t.currentFavorites,!1,"fav")}</div><button data-ref="baselineEmoji" aria-hidden="true" tabindex="-1" class="abs-pos hidden emoji baseline-emoji">😀</button></section>`;if(s){e.appendChild(h);const t=(t,n)=>{for(const o of e.querySelectorAll(`[${t}]`))n(o,o.getAttribute(t))};for(const e of["click","focusout","input","keydown","keyup"])t(`data-on-${e}`,((t,n)=>{t.addEventListener(e,o[n])}));t("data-ref",((e,t)=>{r[t]=e})),t("data-action",((e,t)=>{i[t](e)})),a.addEventListener("abort",(()=>{e.removeChild(h)}))}}const Tt="function"==typeof queueMicrotask?queueMicrotask:e=>Promise.resolve().then(e);function _t(e,t,n){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++)if(!n(e[o],t[o]))return!1;return!0}const Ct=[],{assign:Lt}=Object;function Pt(e,t){const n={},o=new AbortController,i=o.signal,{state:r,createEffect:a}=function(e){let t,n=!1;const o=new Map,i=new Set;let r;const a=()=>{if(n)return;const e=[...i];i.clear();try{for(const t of e)t()}finally{r=!1,i.size&&(r=!0,Tt(a))}},s=new Proxy({},{get(e,n){if(t){let e=o.get(n);e||(e=new Set,o.set(n,e)),e.add(t)}return e[n]},set(e,t,n){e[t]=n;const s=o.get(t);if(s){for(const e of s)i.add(e);r||(r=!0,Tt(a))}return!0}});return e.addEventListener("abort",(()=>{n=!0})),{state:s,createEffect:e=>{const n=()=>{const o=t;t=n;try{return e()}finally{t=o}};return n()}}}(i);Lt(r,{skinToneEmoji:void 0,i18n:void 0,database:void 0,customEmoji:void 0,customCategorySorting:void 0,emojiVersion:void 0}),Lt(r,t),Lt(r,{initialLoad:!0,currentEmojis:[],currentEmojisWithCategories:[],rawSearchText:"",searchText:"",searchMode:!1,activeSearchItem:-1,message:void 0,skinTonePickerExpanded:!1,skinTonePickerExpandedAfterAnimation:!1,currentSkinTone:0,activeSkinTone:0,skinToneButtonText:void 0,pickerStyle:void 0,skinToneButtonLabel:"",skinTones:[],currentFavorites:[],defaultFavoriteEmojis:void 0,numColumns:8,isRtl:!1,scrollbarWidth:0,currentGroupIndex:0,groups:Ge,databaseLoaded:!1,activeSearchItemId:void 0}),a((()=>{r.currentGroup!==r.groups[r.currentGroupIndex]&&(r.currentGroup=r.groups[r.currentGroupIndex])}));const s=t=>{e.getElementById(t).focus()},c=t=>e.getElementById(`emo-${t.id}`),l=(e,t)=>{n.rootElement.dispatchEvent(new CustomEvent(e,{detail:t,bubbles:!0,composed:!0}))},d=(e,t)=>e.id===t.id,u=(e,t)=>{const{category:n,emojis:o}=e,{category:i,emojis:r}=t;return n===i&&_t(o,r,d)},f=e=>{_t(r.currentEmojis,e,d)||(r.currentEmojis=e)},m=e=>{r.searchMode!==e&&(r.searchMode=e)},h=(e,t)=>t&&e.skins&&e.skins[t]||e.unicode,p={labelWithSkin:(e,t)=>{return(n=[e.name||h(e,t),e.annotation,...e.shortcodes||Ct].filter(Boolean),ut(n,(e=>e))).join(", ");var n},titleForEmoji:e=>e.annotation||(e.shortcodes||Ct).join(", "),unicodeWithSkin:h},g={onClickSkinToneButton:function(e){r.skinTonePickerExpanded=!r.skinTonePickerExpanded,r.activeSkinTone=r.currentSkinTone,r.skinTonePickerExpanded&&(lt(e),ft((()=>s("skintone-list"))))},onEmojiClick:async function(e){const{target:t}=e;if(!t.classList.contains("emoji"))return;lt(e);E(t.id.substring(4))},onNavClick:function(e){const{target:t}=e,o=t.closest(".nav-button");if(!o)return;const i=parseInt(o.dataset.groupId,10);n.searchElement.value="",r.rawSearchText="",r.searchText="",r.activeSearchItem=-1,r.currentGroupIndex=r.groups.findIndex((e=>e.id===i))},onNavKeydown:function(e){const{target:t,key:n}=e,o=t=>{t&&(lt(e),t.focus())};switch(n){case"ArrowLeft":return o(t.previousElementSibling);case"ArrowRight":return o(t.nextElementSibling);case"Home":return o(t.parentElement.firstElementChild);case"End":return o(t.parentElement.lastElementChild)}},onSearchKeydown:function(e){if(!r.searchMode||!r.currentEmojis.length)return;const t=t=>{lt(e),r.activeSearchItem=dt(t,r.activeSearchItem,r.currentEmojis)};switch(e.key){case"ArrowDown":return t(!1);case"ArrowUp":return t(!0);case"Enter":if(-1!==r.activeSearchItem)return lt(e),E(r.currentEmojis[r.activeSearchItem].id);r.activeSearchItem=0}},onSkinToneOptionsClick:function(e){const{target:{id:t}}=e,n=t&&t.match(/^skintone-(\d)/);if(!n)return;lt(e);x(parseInt(n[1],10))},onSkinToneOptionsFocusOut:async function(e){const{relatedTarget:t}=e;t&&"skintone-list"===t.id||(r.skinTonePickerExpanded=!1)},onSkinToneOptionsKeydown:function(e){if(!r.skinTonePickerExpanded)return;const t=async t=>{lt(e),r.activeSkinTone=t};switch(e.key){case"ArrowUp":return t(dt(!0,r.activeSkinTone,r.skinTones));case"ArrowDown":return t(dt(!1,r.activeSkinTone,r.skinTones));case"Home":return t(0);case"End":return t(r.skinTones.length-1);case"Enter":return lt(e),x(r.activeSkinTone);case"Escape":return lt(e),r.skinTonePickerExpanded=!1,s("skintone-button")}},onSkinToneOptionsKeyup:function(e){if(!r.skinTonePickerExpanded)return;if(" "===e.key)return lt(e),x(r.activeSkinTone)},onSearchInput:function(e){r.rawSearchText=e.target.value}},b={calculateEmojiGridStyle:function(e){!function(e,t,n){let o;ht?(o=new ResizeObserver((e=>n(e[0].contentRect.width))),o.observe(e)):ft((()=>n(e.getBoundingClientRect().width))),t.addEventListener("abort",(()=>{o&&o.disconnect()}))}(e,i,(t=>{{const o=getComputedStyle(n.rootElement),i=parseInt(o.getPropertyValue("--num-columns"),10),a="rtl"===o.getPropertyValue("direction"),s=e.parentElement.getBoundingClientRect().width-t;r.numColumns=i,r.scrollbarWidth=s,r.isRtl=a}}))}};let y=!0;function v(){r.database.customEmoji=r.customEmoji||Ct}function k(e){return!e.unicode||!qe(e)||ot.get(e.unicode)}async function w(e){const t=r.emojiVersion||await nt();return e.filter((({version:e})=>!e||e<=t))}async function j(e){return function(e,t){const n=e=>{const n={};for(const o of e)"number"==typeof o.tone&&o.version<=t&&(n[o.tone]=o.unicode);return n};return e.map((({unicode:e,skins:t,shortcodes:o,url:i,name:r,category:a,annotation:s})=>({unicode:e,name:r,shortcodes:o,url:i,category:a,annotation:s,id:e||r,skins:t&&n(t)})))}(e,r.emojiVersion||await nt())}async function E(e){const t=await r.database.getEmojiByUnicodeOrName(e),n=[...r.currentEmojis,...r.currentFavorites].find((t=>t.id===e)),o=n.unicode&&h(n,r.currentSkinTone);await r.database.incrementFavoriteEmojiCount(e),l("emoji-click",{emoji:t,skinTone:r.currentSkinTone,...o&&{unicode:o},...n.name&&{name:n.name}})}function x(e){r.currentSkinTone=e,r.skinTonePickerExpanded=!1,s("skintone-button"),l("skin-tone-change",{skinTone:e}),r.database.setPreferredSkinTone(e)}return a((()=>{St(e,r,p,g,b,n,i,y),y=!1})),r.emojiVersion||nt().then((e=>{e||(r.message=r.i18n.emojiUnsupportedMessage)})),a((()=>{r.database&&async function(){let e=!1;const t=setTimeout((()=>{e=!0,r.message=r.i18n.loadingMessage}),1e3);try{await r.database.ready(),r.databaseLoaded=!0}catch(n){console.error(n),r.message=r.i18n.networkErrorMessage}finally{clearTimeout(t),e&&(e=!1,r.message="")}}()})),a((()=>{r.pickerStyle=`\n      --num-groups: ${r.groups.length}; \n      --indicator-opacity: ${r.searchMode?0:1}; \n      --num-skintones: 6;`})),a((()=>{r.customEmoji&&r.database&&v()})),a((()=>{r.customEmoji&&r.customEmoji.length?r.groups!==Ve&&(r.groups=Ve):r.groups!==Ge&&(r.currentGroupIndex&&r.currentGroupIndex--,r.groups=Ge)})),a((()=>{!async function(){r.databaseLoaded&&(r.currentSkinTone=await r.database.getPreferredSkinTone())}()})),a((()=>{r.skinTones=Array(6).fill().map(((e,t)=>function(e,t){if(0===t)return e;const n=e.indexOf(at);return-1!==n?e.substring(0,n)+String.fromCodePoint(st+t-1)+e.substring(n):(e.endsWith(it)&&(e=e.substring(0,e.length-1)),e+rt+String.fromCodePoint(ct+t-1))}(r.skinToneEmoji,t)))})),a((()=>{r.skinToneButtonText=r.skinTones[r.currentSkinTone]})),a((()=>{r.skinToneButtonLabel=r.i18n.skinToneLabel.replace("{skinTone}",r.i18n.skinTones[r.currentSkinTone])})),a((()=>{r.databaseLoaded&&async function(){const{database:e}=r,t=(await Promise.all(Xe.map((t=>e.getEmojiByUnicodeOrName(t))))).filter(Boolean);r.defaultFavoriteEmojis=t}()})),a((()=>{r.databaseLoaded&&r.defaultFavoriteEmojis&&async function(){v();const{database:e,defaultFavoriteEmojis:t,numColumns:n}=r,o=await e.getTopFavoriteEmoji(n),i=await j(ut([...o,...t],(e=>e.unicode||e.name)).slice(0,n));r.currentFavorites=i}()})),a((()=>{!async function(){const{searchText:e,currentGroup:t,databaseLoaded:n,customEmoji:o}=r;if(n)if(e.length>=2){const t=await async function(e){return j(await w(await r.database.getEmojiBySearchQuery(e)))}(e);r.searchText===e&&(f(t),m(!0))}else{const{id:e}=t;if(-1!==e||o&&o.length){const t=await async function(e){const t=-1===e?r.customEmoji:await r.database.getEmojiByGroup(e);return j(await w(t))}(e);r.currentGroup.id===e&&(f(t),m(!1))}}else r.currentEmojis=[],r.searchMode=!1}()})),a((()=>{const{currentEmojis:e,emojiVersion:t}=r,o=e.filter((e=>e.unicode)).filter((e=>qe(e)&&!ot.has(e.unicode)));if(!t&&o.length)f(e),ft((()=>function(e){(function(e,t,n){for(const o of e){const e=pt(n(o));void 0===mt&&(mt=pt(t));const i=e/1.8<mt;ot.set(o.unicode,i)}})(e,n.baselineEmoji,c),r.currentEmojis=r.currentEmojis}(o)));else{const o=t?e:e.filter(k);f(o),ft((()=>{var e;(e=n.tabpanelElement)&&(e.scrollTop=0)}))}})),a((()=>{})),a((()=>{(e=>{_t(r.currentEmojisWithCategories,e,u)||(r.currentEmojisWithCategories=e)})(function(){const{searchMode:e,currentEmojis:t}=r;if(e)return[{category:"",emojis:t}];const n=new Map;for(const o of t){const e=o.category||"";let t=n.get(e);t||(t=[],n.set(e,t)),t.push(o)}return[...n.entries()].map((([e,t])=>({category:e,emojis:t}))).sort(((e,t)=>r.customCategorySorting(e.category,t.category)))}())})),a((()=>{r.activeSearchItemId=-1!==r.activeSearchItem&&r.currentEmojis[r.activeSearchItem].id})),a((()=>{const{rawSearchText:e}=r;Ke((()=>{r.searchText=(e||"").trim(),r.activeSearchItem=-1}))})),a((()=>{r.skinTonePickerExpanded?n.skinToneDropdown.addEventListener("transitionend",(()=>{r.skinTonePickerExpandedAfterAnimation=!0}),{once:!0}):r.skinTonePickerExpandedAfterAnimation=!1})),{$set(e){Lt(r,e)},$destroy(){o.abort()}}}var zt={categoriesLabel:"Categories",emojiUnsupportedMessage:"Your browser does not support color emoji.",favoritesLabel:"Favorites",loadingMessage:"Loading…",networkErrorMessage:"Could not load emoji.",regionLabel:"Emoji picker",searchDescription:"When search results are available, press up or down to select and enter to choose.",searchLabel:"Search",searchResultsLabel:"Search results",skinToneDescription:"When expanded, press up or down to select and enter to choose.",skinToneLabel:"Choose a skin tone (currently {skinTone})",skinTonesLabel:"Skin tones",skinTones:["Default","Light","Medium-Light","Medium","Medium-Dark","Dark"],categories:{custom:"Custom","smileys-emotion":"Smileys and emoticons","people-body":"People and body","animals-nature":"Animals and nature","food-drink":"Food and drink","travel-places":"Travel and places",activities:"Activities",objects:"Objects",symbols:"Symbols",flags:"Flags"}};const It=["customEmoji","customCategorySorting","database","dataSource","i18n","locale","skinToneEmoji","emojiVersion"],Mt=`:host{--emoji-font-family:${Ye}}`;class At extends HTMLElement{constructor(e){super(),this.attachShadow({mode:"open"});const t=document.createElement("style");t.textContent=":host{--emoji-size:1.375rem;--emoji-padding:0.5rem;--category-emoji-size:var(--emoji-size);--category-emoji-padding:var(--emoji-padding);--indicator-height:3px;--input-border-radius:0.5rem;--input-border-size:1px;--input-font-size:1rem;--input-line-height:1.5;--input-padding:0.25rem;--num-columns:8;--outline-size:2px;--border-size:1px;--skintone-border-radius:1rem;--category-font-size:1rem;display:flex;width:min-content;height:400px}:host,:host(.light){color-scheme:light;--background:#fff;--border-color:#e0e0e0;--indicator-color:#385ac1;--input-border-color:#999;--input-font-color:#111;--input-placeholder-color:#999;--outline-color:#999;--category-font-color:#111;--button-active-background:#e6e6e6;--button-hover-background:#d9d9d9}:host(.dark){color-scheme:dark;--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}@media (prefers-color-scheme:dark){:host{color-scheme:dark;--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}}:host([hidden]){display:none}button{margin:0;padding:0;border:0;background:0 0;box-shadow:none;-webkit-tap-highlight-color:transparent}button::-moz-focus-inner{border:0}input{padding:0;margin:0;line-height:1.15;font-family:inherit}input[type=search]{-webkit-appearance:none}:focus{outline:var(--outline-color) solid var(--outline-size);outline-offset:calc(-1*var(--outline-size))}:host([data-js-focus-visible]) :focus:not([data-focus-visible-added]){outline:0}:focus:not(:focus-visible){outline:0}.hide-focus{outline:0}*{box-sizing:border-box}.picker{contain:content;display:flex;flex-direction:column;background:var(--background);border:var(--border-size) solid var(--border-color);width:100%;height:100%;overflow:hidden;--total-emoji-size:calc(var(--emoji-size) + (2 * var(--emoji-padding)));--total-category-emoji-size:calc(var(--category-emoji-size) + (2 * var(--category-emoji-padding)))}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.hidden{opacity:0;pointer-events:none}.abs-pos{position:absolute;left:0;top:0}.gone{display:none!important}.skintone-button-wrapper,.skintone-list{background:var(--background);z-index:3}.skintone-button-wrapper.expanded{z-index:1}.skintone-list{position:absolute;inset-inline-end:0;top:0;z-index:2;overflow:visible;border-bottom:var(--border-size) solid var(--border-color);border-radius:0 0 var(--skintone-border-radius) var(--skintone-border-radius);will-change:transform;transition:transform .2s ease-in-out;transform-origin:center 0}@media (prefers-reduced-motion:reduce){.skintone-list{transition-duration:.001s}}@supports not (inset-inline-end:0){.skintone-list{right:0}}.skintone-list.no-animate{transition:none}.tabpanel{overflow-y:auto;-webkit-overflow-scrolling:touch;will-change:transform;min-height:0;flex:1;contain:content}.emoji-menu{display:grid;grid-template-columns:repeat(var(--num-columns),var(--total-emoji-size));justify-content:space-around;align-items:flex-start;width:100%}.category{padding:var(--emoji-padding);font-size:var(--category-font-size);color:var(--category-font-color)}.custom-emoji,.emoji,button.emoji{height:var(--total-emoji-size);width:var(--total-emoji-size)}.emoji,button.emoji{font-size:var(--emoji-size);display:flex;align-items:center;justify-content:center;border-radius:100%;line-height:1;overflow:hidden;font-family:var(--emoji-font-family);cursor:pointer}@media (hover:hover) and (pointer:fine){.emoji:hover,button.emoji:hover{background:var(--button-hover-background)}}.emoji.active,.emoji:active,button.emoji.active,button.emoji:active{background:var(--button-active-background)}.custom-emoji{padding:var(--emoji-padding);object-fit:contain;pointer-events:none;background-repeat:no-repeat;background-position:center center;background-size:var(--emoji-size) var(--emoji-size)}.nav,.nav-button{align-items:center}.nav{display:grid;justify-content:space-between;contain:content}.nav-button{display:flex;justify-content:center}.nav-emoji{font-size:var(--category-emoji-size);width:var(--total-category-emoji-size);height:var(--total-category-emoji-size)}.indicator-wrapper{display:flex;border-bottom:1px solid var(--border-color)}.indicator{width:calc(100%/var(--num-groups));height:var(--indicator-height);opacity:var(--indicator-opacity);background-color:var(--indicator-color);will-change:transform,opacity;transition:opacity .1s linear,transform .25s ease-in-out}@media (prefers-reduced-motion:reduce){.indicator{will-change:opacity;transition:opacity .1s linear}}.pad-top,input.search{background:var(--background);width:100%}.pad-top{height:var(--emoji-padding);z-index:3}.search-row{display:flex;align-items:center;position:relative;padding-inline-start:var(--emoji-padding);padding-bottom:var(--emoji-padding)}.search-wrapper{flex:1;min-width:0}input.search{padding:var(--input-padding);border-radius:var(--input-border-radius);border:var(--input-border-size) solid var(--input-border-color);color:var(--input-font-color);font-size:var(--input-font-size);line-height:var(--input-line-height)}input.search::placeholder{color:var(--input-placeholder-color)}.favorites{display:flex;flex-direction:row;border-top:var(--border-size) solid var(--border-color);contain:content}.message{padding:var(--emoji-padding)}"+Mt,this.shadowRoot.appendChild(t),this._ctx={locale:"en",dataSource:"https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json",skinToneEmoji:"🖐️",customCategorySorting:Je,customEmoji:null,i18n:zt,emojiVersion:null,...e};for(const n of It)"database"!==n&&Object.prototype.hasOwnProperty.call(this,n)&&(this._ctx[n]=this[n],delete this[n]);this._dbFlush()}connectedCallback(){this._cmp||(this._cmp=Pt(this.shadowRoot,this._ctx))}disconnectedCallback(){Tt((()=>{if(!this.isConnected&&this._cmp){this._cmp.$destroy(),this._cmp=void 0;const{database:e}=this._ctx;e.close().catch((e=>console.error(e)))}}))}static get observedAttributes(){return["locale","data-source","skin-tone-emoji","emoji-version"]}attributeChangedCallback(e,t,n){this._set(e.replace(/-([a-z])/g,((e,t)=>t.toUpperCase())),"emoji-version"===e?parseFloat(n):n)}_set(e,t){this._ctx[e]=t,this._cmp&&this._cmp.$set({[e]:t}),["locale","dataSource"].includes(e)&&this._dbFlush()}_dbCreate(){const{locale:e,dataSource:t,database:n}=this._ctx;n&&n.locale===e&&n.dataSource===t||this._set("database",new Ue({locale:e,dataSource:t}))}_dbFlush(){Tt((()=>this._dbCreate()))}}const Nt={};for(const Zt of It)Nt[Zt]={get(){return"database"===Zt&&this._dbCreate(),this._ctx[Zt]},set(e){if("database"===Zt)throw new Error("database is read-only");this._set(Zt,e)}};Object.defineProperties(At.prototype,Nt),customElements.get("emoji-picker")||customElements.define("emoji-picker",At);const Ot=[];function Bt(t,n=e){let o;const i=new Set;function a(e){if(r(t,e)&&(t=e,o)){const e=!Ot.length;for(const n of i)n[1](),Ot.push(n,t);if(e){for(let e=0;e<Ot.length;e+=2)Ot[e][0](Ot[e+1]);Ot.length=0}}}return{set:a,update:function(e){a(e(t))},subscribe:function(r,s=e){const c=[r,s];return i.add(c),1===i.size&&(o=n(a)||e),r(t),()=>{i.delete(c),0===i.size&&o&&(o(),o=null)}}}}const Dt=Bt([]),Rt=Bt(null);function Wt(t){let n;return{c(){n=d("div"),h(n,"class","emoji-wrapper svelte-dkulq1")},m(e,o){c(e,n,o),t[1](n)},p:e,i:e,o:e,d(e){e&&l(n),t[1](null)}}}function Ft(e,t,n){const o=w();let i;function r(e){o("select",e.detail.unicode),Rt.set(null)}return v((async()=>{await(_(),S);const e=new At,t=e.shadowRoot,n=document.createElement("style");n.textContent=".search-row { display: none; }",t.appendChild(n);const o=document.createElement("style");o.textContent=".favorites { display: none; }",t.appendChild(o),e.style.setProperty("--num-columns","12"),e.style.setProperty("--emoji-size",.9*window.innerHeight/12+"px"),e.style.setProperty("--background","white"),i.appendChild(e),e.addEventListener("emoji-click",r),e.style.height="70vh",e.style.width="80vw",window.addEventListener("resize",(()=>{e.style.height="70vh",e.style.width="80vw"}))})),k((()=>{const e=i.querySelector("emoji-picker");e&&(e.removeEventListener("emoji-click",r),e.remove()),window.removeEventListener("resize")})),[i,function(e){E[e?"unshift":"push"]((()=>{i=e,n(0,i)}))}]}class Ut extends U{constructor(e){super(),F(this,e,Ft,Wt,r,{})}}function Vt(e,t,n){const o=e.slice();return o[9]=t[n],o[11]=n,o}function Gt(e,t){let n,o,i,r,a,g=t[9]+"";function b(){return t[5](t[11])}return{key:e,first:null,c(){n=d("span"),o=u(g),i=f(),h(n,"class","svelte-2t7h3k"),p(n,"focused",t[11]===t[1]),this.first=n},m(e,t){c(e,n,t),s(n,o),s(n,i),r||(a=m(n,"click",b),r=!0)},p(e,i){var r,a;t=e,1&i&&g!==(g=t[9]+"")&&(a=""+(a=g),(r=o).data!==a&&(r.data=a)),3&i&&p(n,"focused",t[11]===t[1])},d(e){e&&l(n),r=!1,a()}}}function Kt(t){let n,i,r,a,u,p,g=[],b=new Map,y=t[0];const v=e=>e[11];for(let e=0;e<y.length;e+=1){let n=Vt(t,y,e),o=v(n);b.set(o,g[e]=Gt(o,n))}return{c(){n=d("div"),i=d("div");for(let e=0;e<g.length;e+=1)g[e].c();r=f(),a=d("button"),a.textContent="⌫",h(i,"class","emoji-container svelte-2t7h3k"),h(i,"contenteditable","false"),h(a,"class","delete-button svelte-2t7h3k"),h(n,"class","wrapper svelte-2t7h3k")},m(e,o){c(e,n,o),s(n,i);for(let t=0;t<g.length;t+=1)g[t]&&g[t].m(i,null);s(n,r),s(n,a),u||(p=[m(i,"keydown",t[3]),m(a,"click",t[4])],u=!0)},p(e,[t]){7&t&&(y=e[0],g=function(e,t,n,i,r,a,s,c,l,d,u,f){let m=e.length,h=a.length,p=m;const g={};for(;p--;)g[e[p].key]=p;const b=[],y=new Map,v=new Map,k=[];for(p=h;p--;){const e=f(r,a,p),o=n(e);let c=s.get(o);c?i&&k.push((()=>c.p(e,t))):(c=d(o,e),c.c()),y.set(o,b[p]=c),o in g&&v.set(o,Math.abs(p-g[o]))}const w=new Set,j=new Set;function E(e){N(e,1),e.m(c,u),s.set(e.key,e),u=e.first,h--}for(;m&&h;){const t=b[h-1],n=e[m-1],o=t.key,i=n.key;t===n?(u=t.first,m--,h--):y.has(i)?!s.has(o)||w.has(o)?E(t):j.has(i)?m--:v.get(o)>v.get(i)?(j.add(o),E(t)):(w.add(i),m--):(l(n,s),m--)}for(;m--;){const t=e[m];y.has(t.key)||l(t,s)}for(;h;)E(b[h-1]);return o(k),b}(g,t,v,1,e,y,b,i,B,Gt,null,Vt))},i:e,o:e,d(e){e&&l(n);for(let t=0;t<g.length;t+=1)g[t].d();u=!1,o(p)}}}function qt(e,t,n){let o,i;function r(e){console.log("$focusedEmojiIndex: ",i),console.log("index: ",e),Rt.set(e),undefined.focus()}function s(e){console.log("index: ",e),Dt.update((t=>[...t.slice(0,e),...t.slice(e+1)])),Rt.set(null),console.log("selectedEmojis: ",o)}a(e,Dt,(e=>n(0,o=e))),a(e,Rt,(e=>n(1,i=e))),w();return[o,i,r,function(e){"Backspace"===e.key&&null!==i&&(s(i-1),e.preventDefault())},function(){console.log("$focusedEmojiIndex: ",i),null!==i?s(i):o.length>0&&s(o.length-1)},e=>r(e)]}class Ht extends U{constructor(e){super(),F(this,e,qt,Kt,r,{})}}function Xt(t){let n,o,i,r,a,u,m;return i=new Ht({}),i.$on("delete",t[1]),u=new Ut({}),u.$on("select",t[0]),{c(){n=d("main"),o=d("header"),D(i.$$.fragment),r=f(),a=d("section"),D(u.$$.fragment),h(o,"class","svelte-sm3n79"),h(a,"class","svelte-sm3n79"),h(n,"class","svelte-sm3n79")},m(e,t){c(e,n,t),s(n,o),R(i,o,null),s(n,r),s(n,a),R(u,a,null),m=!0},p:e,i(e){m||(N(i.$$.fragment,e),N(u.$$.fragment,e),m=!0)},o(e){O(i.$$.fragment,e),O(u.$$.fragment,e),m=!1},d(e){e&&l(n),W(i),W(u)}}}function Yt(e,t,n){let o,i;function r(e){i=e.touches[0].clientY}function s(e){const t=e.touches[0].clientY-i;0===window.scrollY&&t>0&&e.preventDefault()}return a(e,Dt,(e=>n(3,o=e))),v((()=>{window.addEventListener("touchstart",r,{passive:!1}),window.addEventListener("touchmove",s,{passive:!1})})),k((()=>{window.removeEventListener("touchstart",r),window.removeEventListener("touchmove",s)})),[function(e){o.length<10&&Dt.update((t=>[...t,e.detail]))},function(){Dt.update((e=>e.slice(0,-1)))}]}const Jt={};const Qt=function(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:o,onRegistered:i,onRegisteredSW:r,onRegisterError:a}=e;let s,c,l;return c=async function(){if("serviceWorker"in navigator){if(s=await function(e,t,n){if(!t||0===t.length)return e();const o=document.getElementsByTagName("link");return Promise.all(t.map((e=>{if((e=function(e){return"/emoji/"+e}(e))in Jt)return;Jt[e]=!0;const t=e.endsWith(".css"),i=t?'[rel="stylesheet"]':"";if(n)for(let n=o.length-1;n>=0;n--){const i=o[n];if(i.href===e&&(!t||"stylesheet"===i.rel))return}else if(document.querySelector(`link[href="${e}"]${i}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":"modulepreload",t||(r.as="script",r.crossOrigin=""),r.href=e,document.head.appendChild(r),t?new Promise(((t,n)=>{r.addEventListener("load",t),r.addEventListener("error",(()=>n(new Error(`Unable to preload CSS for ${e}`))))})):void 0}))).then((()=>e())).catch((e=>{const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}))}((()=>import("./workbox-window.prod.es5-1e1a3f8e.js")),[]).then((({Workbox:e})=>new e("/emoji/sw.js",{scope:"/emoji/",type:"classic"}))).catch((e=>{null==a||a(e)})),!s)return;l=async()=>{await(null==s?void 0:s.messageSkipWaiting())};{let e=!1;const t=()=>{e=!0,null==s||s.addEventListener("controlling",(e=>{e.isUpdate&&window.location.reload()})),null==n||n()};s.addEventListener("installed",(n=>{void 0===n.isUpdate?void 0!==n.isExternal?n.isExternal?t():!e&&(null==o||o()):n.isExternal?window.location.reload():!e&&(null==o||o()):n.isUpdate||null==o||o()})),s.addEventListener("waiting",t),s.addEventListener("externalwaiting",t)}s.register({immediate:t}).then((e=>{r?r("/emoji/sw.js",e):null==i||i(e)})).catch((e=>{null==a||a(e)}))}}(),async(e=!0)=>{await c,await(null==l?void 0:l())}}({onNeedRefresh(){},onOfflineReady(){}});new class extends U{constructor(e){super(),F(this,e,Yt,Xt,r,{})}}({target:document.getElementById("app")}),Qt();
